{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Adri%C3%A0/nopain/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,yDACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Adri%C3%A0/nopain/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,kUACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,2KAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gOAAS;YAAC,WAAU;;;;;;;;;;;MAZnB;AAeN,qBAAqB,WAAW,GAAG,uLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,2KAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,sOAAW;YAAC,WAAU;;;;;;;;;;;MAZrB;AAeN,uBAAuB,WAAW,GAChC,yLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,KAAK;YACL,WAAW,IAAA,qHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,qCAAqC;QAClD,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,gNAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGrB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,2KAAgB,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,kLAAyB;QACxB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG,kLAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 334, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Adri%C3%A0/nopain/app/clinic-panel/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useMemo, useState } from \"react\"\r\nimport { createClient } from \"@/utils/supabase/client\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { toast } from \"sonner\"\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\"\r\n\r\ntype Reserva = {\r\n  id: string\r\n  clinic_id: string\r\n  patient_name: string | null\r\n  status: string | null\r\n  starts_at: string | null\r\n  ends_at: string | null\r\n  price_cents: number | null\r\n  currency: string | null\r\n  physio_id: string | null\r\n  created_at: string\r\n  physiotherapist?: { id: string; name: string } | null\r\n}\r\n\r\ntype Physio = {\r\n  id: string\r\n  clinic_id: string\r\n  name: string\r\n  active: boolean | null\r\n}\r\n\r\ntype Clinic = {\r\n  id: string\r\n  name: string\r\n  location: string | null\r\n}\r\n\r\nexport default function ClinicPanelPage() {\r\n  const supabase = createClient()\r\n\r\n  const [clinicId, setClinicId] = useState<string | null>(null)\r\n  const [clinic, setClinic] = useState<Clinic | null>(null)\r\n  const [reservas, setReservas] = useState<Reserva[]>([])\r\n  const [physiosByClinic, setPhysiosByClinic] = useState<Record<string, Physio[]>>({})\r\n  const [loading, setLoading] = useState(true)\r\n  const [saving, setSaving] = useState<string | null>(null)\r\n\r\n  // üîπ Obtener cl√≠nica del usuario autenticado\r\n  useEffect(() => {\r\n    const fetchUserClinic = async () => {\r\n      const {\r\n        data: { user },\r\n        error: userError,\r\n      } = await supabase.auth.getUser()\r\n\r\n      if (userError || !user) {\r\n        toast.error(\"No se ha detectado sesi√≥n activa.\")\r\n        return\r\n      }\r\n\r\n      const { data: profile, error: profileError } = await supabase\r\n        .from(\"profiles\")\r\n        .select(\"role, clinic_id\")\r\n        .eq(\"id\", user.id)\r\n        .single()\r\n\r\n      if (profileError || !profile) {\r\n        toast.error(\"No se pudo obtener el perfil del usuario.\")\r\n        return\r\n      }\r\n\r\n      if (profile.role !== \"clinica\") {\r\n        toast.warning(\"‚ö†Ô∏è Solo las cl√≠nicas pueden acceder al panel.\")\r\n        return\r\n      }\r\n\r\n      setClinicId(profile.clinic_id)\r\n    }\r\n\r\n    fetchUserClinic()\r\n  }, [supabase])\r\n\r\n  // üîπ Cargar informaci√≥n de la cl√≠nica\r\n  useEffect(() => {\r\n    if (!clinicId) return\r\n\r\n    const fetchClinic = async () => {\r\n      const { data, error } = await supabase\r\n        .from(\"clinics\")\r\n        .select(\"id, name, location\")\r\n        .eq(\"id\", clinicId)\r\n        .single()\r\n\r\n      if (error) {\r\n        console.error(error)\r\n        toast.error(\"No se pudo cargar la informaci√≥n de la cl√≠nica.\")\r\n      } else {\r\n        setClinic(data)\r\n      }\r\n    }\r\n\r\n    fetchClinic()\r\n  }, [clinicId, supabase])\r\n\r\n  // üîπ Cargar reservas y fisios\r\n  useEffect(() => {\r\n    if (!clinicId) return\r\n\r\n    const fetchReservas = async () => {\r\n      setLoading(true)\r\n\r\n      const { data, error } = await supabase\r\n        .from(\"reservas\")\r\n        .select(`\r\n          id, clinic_id, patient_name, status, starts_at, ends_at,\r\n          price_cents, currency, physio_id, created_at,\r\n          physiotherapist:physio_id ( id, name )\r\n        `)\r\n        .eq(\"clinic_id\", clinicId)\r\n        .order(\"starts_at\", { ascending: true })\r\n\r\n      if (error) {\r\n        console.error(\"Error cargando reservas:\", error.message)\r\n        toast.error(`Error al cargar reservas: ${error.message}`)\r\n        setReservas([])\r\n        setLoading(false)\r\n        return\r\n      }\r\n\r\n      setReservas(data as Reserva[])\r\n\r\n      // Fisios de la cl√≠nica\r\n      const { data: physios, error: physioErr } = await supabase\r\n        .from(\"physiotherapists\")\r\n        .select(\"id, clinic_id, name, active\")\r\n        .eq(\"clinic_id\", clinicId)\r\n\r\n      if (physioErr) {\r\n        toast.warning(\"No se pudieron cargar los fisioterapeutas.\")\r\n        setPhysiosByClinic({})\r\n        setLoading(false)\r\n        return\r\n      }\r\n\r\n      setPhysiosByClinic({ [clinicId]: physios ?? [] })\r\n      setLoading(false)\r\n    }\r\n\r\n    fetchReservas()\r\n  }, [clinicId, supabase])\r\n\r\n  // üîπ Helpers\r\n  const formatDateTime = (iso: string | null) =>\r\n    iso ? new Date(iso).toLocaleString(\"es-ES\") : \"‚Äî\"\r\n\r\n  const euro = (cents: number | null, currency?: string | null) => {\r\n    if (cents == null) return \"‚Äî\"\r\n    try {\r\n      return new Intl.NumberFormat(\"es-ES\", {\r\n        style: \"currency\",\r\n        currency: currency ?? \"EUR\",\r\n      }).format(cents / 100)\r\n    } catch {\r\n      return `${(cents / 100).toFixed(2)} ${currency ?? \"EUR\"}`\r\n    }\r\n  }\r\n\r\n  // üîπ Render\r\n  if (loading)\r\n    return <p className=\"text-center p-8 text-muted-foreground\">Cargando reservas‚Ä¶</p>\r\n\r\n  if (!clinicId)\r\n    return (\r\n      <p className=\"text-center p-8 text-muted-foreground\">\r\n        Inicia sesi√≥n como cl√≠nica para acceder a tu panel.\r\n      </p>\r\n    )\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto p-8\">\r\n      {/* üè• Encabezado de cl√≠nica */}\r\n      {clinic && (\r\n        <div className=\"mb-10 text-center\">\r\n          <h1 className=\"text-3xl font-bold\">\r\n            üè• {clinic.name}\r\n          </h1>\r\n          <p className=\"text-muted-foreground text-sm\">\r\n            üìç {clinic.location ?? \"Ubicaci√≥n no asignada\"}\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {reservas.length === 0 ? (\r\n        <p className=\"text-center text-muted-foreground\">\r\n          Todav√≠a no hay reservas registradas.\r\n        </p>\r\n      ) : (\r\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {reservas.map((r) => {\r\n            const physios = physiosByClinic[r.clinic_id] ?? []\r\n            return (\r\n              <Card key={r.id} className=\"border shadow-md\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-lg font-semibold\">\r\n                    {r.patient_name ?? \"Paciente\"}\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-3 text-sm text-muted-foreground\">\r\n                  <p>\r\n                    <strong>Estado:</strong>{\" \"}\r\n                    <span className=\"font-medium text-foreground\">\r\n                      {r.status ?? \"pending\"}\r\n                    </span>\r\n                  </p>\r\n                  <p>\r\n                    <strong>Inicio:</strong> {formatDateTime(r.starts_at)}\r\n                  </p>\r\n                  <p>\r\n                    <strong>Fin:</strong> {formatDateTime(r.ends_at)}\r\n                  </p>\r\n                  <p>\r\n                    <strong>Precio:</strong> {euro(r.price_cents, r.currency)}\r\n                  </p>\r\n\r\n                  <div className=\"space-y-1\">\r\n                    <p className=\"text-foreground\">\r\n                      <strong>Fisioterapeuta:</strong>{\" \"}\r\n                      {r.physiotherapist?.name ?? \"Sin asignar\"}\r\n                    </p>\r\n\r\n                    <Select\r\n                      value={r.physio_id ?? \"\"}\r\n                      onValueChange={(val) =>\r\n                        supabase\r\n                          .from(\"reservas\")\r\n                          .update({ physio_id: val === \"\" ? null : val })\r\n                          .eq(\"id\", r.id)\r\n                      }\r\n                      disabled={saving === r.id || physios.length === 0}\r\n                    >\r\n                      <SelectTrigger className=\"w-full\">\r\n                        <SelectValue\r\n                          placeholder={\r\n                            physios.length > 0\r\n                              ? \"Asignar fisioterapeuta‚Ä¶\"\r\n                              : \"No hay fisios disponibles\"\r\n                          }\r\n                        />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"\">Sin asignar</SelectItem>\r\n                        {physios.map((p) => (\r\n                          <SelectItem key={p.id} value={p.id}>\r\n                            {p.name}\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n\r\n                  <p className=\"text-xs text-muted-foreground/70\">\r\n                    Creada el:{\" \"}\r\n                    {new Date(r.created_at).toLocaleDateString(\"es-ES\")}\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n            )\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;;;AAPA;;;;;;AA0Ce,SAAS;;IACtB,MAAM,WAAW,IAAA,8IAAY;IAE7B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB;IACxD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAgB;IACpD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAA2B,CAAC;IAClF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAgB;IAEpD,6CAA6C;IAC7C,IAAA,0KAAS;qCAAC;YACR,MAAM;6DAAkB;oBACtB,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACd,OAAO,SAAS,EACjB,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;oBAE/B,IAAI,aAAa,CAAC,MAAM;wBACtB,oJAAK,CAAC,KAAK,CAAC;wBACZ;oBACF;oBAEA,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,SAClD,IAAI,CAAC,YACL,MAAM,CAAC,mBACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;oBAET,IAAI,gBAAgB,CAAC,SAAS;wBAC5B,oJAAK,CAAC,KAAK,CAAC;wBACZ;oBACF;oBAEA,IAAI,QAAQ,IAAI,KAAK,WAAW;wBAC9B,oJAAK,CAAC,OAAO,CAAC;wBACd;oBACF;oBAEA,YAAY,QAAQ,SAAS;gBAC/B;;YAEA;QACF;oCAAG;QAAC;KAAS;IAEb,sCAAsC;IACtC,IAAA,0KAAS;qCAAC;YACR,IAAI,CAAC,UAAU;YAEf,MAAM;yDAAc;oBAClB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,WACL,MAAM,CAAC,sBACP,EAAE,CAAC,MAAM,UACT,MAAM;oBAET,IAAI,OAAO;wBACT,QAAQ,KAAK,CAAC;wBACd,oJAAK,CAAC,KAAK,CAAC;oBACd,OAAO;wBACL,UAAU;oBACZ;gBACF;;YAEA;QACF;oCAAG;QAAC;QAAU;KAAS;IAEvB,8BAA8B;IAC9B,IAAA,0KAAS;qCAAC;YACR,IAAI,CAAC,UAAU;YAEf,MAAM;2DAAgB;oBACpB,WAAW;oBAEX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CAAC,CAAC;;;;QAIT,CAAC,EACA,EAAE,CAAC,aAAa,UAChB,KAAK,CAAC,aAAa;wBAAE,WAAW;oBAAK;oBAExC,IAAI,OAAO;wBACT,QAAQ,KAAK,CAAC,4BAA4B,MAAM,OAAO;wBACvD,oJAAK,CAAC,KAAK,CAAC,CAAC,0BAA0B,EAAE,MAAM,OAAO,EAAE;wBACxD,YAAY,EAAE;wBACd,WAAW;wBACX;oBACF;oBAEA,YAAY;oBAEZ,uBAAuB;oBACvB,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAC/C,IAAI,CAAC,oBACL,MAAM,CAAC,+BACP,EAAE,CAAC,aAAa;oBAEnB,IAAI,WAAW;wBACb,oJAAK,CAAC,OAAO,CAAC;wBACd,mBAAmB,CAAC;wBACpB,WAAW;wBACX;oBACF;oBAEA,mBAAmB;wBAAE,CAAC,SAAS,EAAE,WAAW,EAAE;oBAAC;oBAC/C,WAAW;gBACb;;YAEA;QACF;oCAAG;QAAC;QAAU;KAAS;IAEvB,aAAa;IACb,MAAM,iBAAiB,CAAC,MACtB,MAAM,IAAI,KAAK,KAAK,cAAc,CAAC,WAAW;IAEhD,MAAM,OAAO,CAAC,OAAsB;QAClC,IAAI,SAAS,MAAM,OAAO;QAC1B,IAAI;YACF,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;gBACpC,OAAO;gBACP,UAAU,YAAY;YACxB,GAAG,MAAM,CAAC,QAAQ;QACpB,EAAE,OAAM;YACN,OAAO,GAAG,CAAC,QAAQ,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,YAAY,OAAO;QAC3D;IACF;IAEA,YAAY;IACZ,IAAI,SACF,qBAAO,6LAAC;QAAE,WAAU;kBAAwC;;;;;;IAE9D,IAAI,CAAC,UACH,qBACE,6LAAC;QAAE,WAAU;kBAAwC;;;;;;IAKzD,qBACE,6LAAC;QAAI,WAAU;;YAEZ,wBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;;4BAAqB;4BAC7B,OAAO,IAAI;;;;;;;kCAEjB,6LAAC;wBAAE,WAAU;;4BAAgC;4BACvC,OAAO,QAAQ,IAAI;;;;;;;;;;;;;YAK5B,SAAS,MAAM,KAAK,kBACnB,6LAAC;gBAAE,WAAU;0BAAoC;;;;;qCAIjD,6LAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC;oBACb,MAAM,UAAU,eAAe,CAAC,EAAE,SAAS,CAAC,IAAI,EAAE;oBAClD,qBACE,6LAAC,oIAAI;wBAAY,WAAU;;0CACzB,6LAAC,0IAAU;0CACT,cAAA,6LAAC,yIAAS;oCAAC,WAAU;8CAClB,EAAE,YAAY,IAAI;;;;;;;;;;;0CAGvB,6LAAC,2IAAW;gCAAC,WAAU;;kDACrB,6LAAC;;0DACC,6LAAC;0DAAO;;;;;;4CAAiB;0DACzB,6LAAC;gDAAK,WAAU;0DACb,EAAE,MAAM,IAAI;;;;;;;;;;;;kDAGjB,6LAAC;;0DACC,6LAAC;0DAAO;;;;;;4CAAgB;4CAAE,eAAe,EAAE,SAAS;;;;;;;kDAEtD,6LAAC;;0DACC,6LAAC;0DAAO;;;;;;4CAAa;4CAAE,eAAe,EAAE,OAAO;;;;;;;kDAEjD,6LAAC;;0DACC,6LAAC;0DAAO;;;;;;4CAAgB;4CAAE,KAAK,EAAE,WAAW,EAAE,EAAE,QAAQ;;;;;;;kDAG1D,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAE,WAAU;;kEACX,6LAAC;kEAAO;;;;;;oDAAyB;oDAChC,EAAE,eAAe,EAAE,QAAQ;;;;;;;0DAG9B,6LAAC,wIAAM;gDACL,OAAO,EAAE,SAAS,IAAI;gDACtB,eAAe,CAAC,MACd,SACG,IAAI,CAAC,YACL,MAAM,CAAC;wDAAE,WAAW,QAAQ,KAAK,OAAO;oDAAI,GAC5C,EAAE,CAAC,MAAM,EAAE,EAAE;gDAElB,UAAU,WAAW,EAAE,EAAE,IAAI,QAAQ,MAAM,KAAK;;kEAEhD,6LAAC,+IAAa;wDAAC,WAAU;kEACvB,cAAA,6LAAC,6IAAW;4DACV,aACE,QAAQ,MAAM,GAAG,IACb,4BACA;;;;;;;;;;;kEAIV,6LAAC,+IAAa;;0EACZ,6LAAC,4IAAU;gEAAC,OAAM;0EAAG;;;;;;4DACpB,QAAQ,GAAG,CAAC,CAAC,kBACZ,6LAAC,4IAAU;oEAAY,OAAO,EAAE,EAAE;8EAC/B,EAAE,IAAI;mEADQ,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;kDAQ7B,6LAAC;wCAAE,WAAU;;4CAAmC;4CACnC;4CACV,IAAI,KAAK,EAAE,UAAU,EAAE,kBAAkB,CAAC;;;;;;;;;;;;;;uBA7DtC,EAAE,EAAE;;;;;gBAkEnB;;;;;;;;;;;;AAKV;GA3OwB;KAAA","debugId":null}}]
}